# A/B TEST
A/B TEST的目的是收集数据，作出决定。在置信区间内计算效能，为了判断我们的结果有多大可能具有可重复性与合理性，并做出正确的决定。

## When can you use A/B testing：session 3
- 对照组和实验组（是否容易设置两组）
- 明确的归因（归因是否清晰？）
- 排除其他影响（设备？人群？）
- 时间成本（回馈是否过长？）

## example：
- Customer funnel
- click-through-rate and click-through-probability
- if N * p_hat > 5, then you can assume it is normal.
you should also check N * (1 - p_hat) > 5 satisfied.

## 合并标准误差：
- 合并概率：p_hat = (x1 + x2) / (n1 + n2)
- 合并标准误差：se = sqrt(p_hat * (1 - p_hat) * (1 / n1 + 1 / n2))
- 预计差异：d_hat = x1/n1 - x2/n2
- 误差幅度：m = se * 置信水平对应上分位数（双侧）
- 置信水平下限：d_hat - m（上限同理），需要大于d_min实际显著性

## 实际显著性（是否看到你感兴趣的改变）
- 显著性差异：不同领域标准不同
- 统计显著性（假设检验） - 可重复性
- 统计显著性低于实际显著性

## 统计功效和规模
- AB两组真的存在差异时，能正确判断的概率
- 二者呈负向
- 确保功效，得到高概率结果 -> 具有统计显著性

## P值
- 原假设成立时，出现当前情况的概率
- p值越小，越容易拒绝原假设

## 实验中的政策和伦理问题
### Tuskegee梅毒实验和Milgram实验
- 该农村男性接受政府免费治疗--被用于研究非治疗下梅毒的自然发展过程，在青霉素被确立为标准梅毒治疗药物后依旧，从未告知参与者这件事
- 心理学领域耶鲁大学教授Mligram，测量参与者违背良心，遵从权威指令，对别人施以电击的意愿

### 四个原则
- 风险：
    主要界限在于风险是否超过了“最低风险”。 最低风险的定义为参与者在日常生活中会遇到的伤害的概率和程度，包括身体、心理、情感、社会和经济方面。 如果风险超过最低风险，那就需要获得知情同意。
- 好处：
    大多数 A/B 测试的益处在于改进产品。 在其他社会科学中，在于理解人的境况以提供帮助，比如教育和发展。医学界的测试风险往往较高，但却能带来健康状况的改善。
- 选择：
    主要问题在于参与者的选择越少，强制性以及参与者是否能选择参与与否的问题就越多，以及这些问题如何在风险和益处之间实现平衡。
- 隐私
```
    1、对于新收集和存储的数据，数据的敏感性如何？处理数据时采取了什么内部防御措施？例如设置了何种访问控制？如何捕捉和管理违反该防御措施的行为等？
    2、如何使用收集的数据？如何保护参与者的数据？如何向参与者保证为了此研究而向他们收集的数据不会被用于其他目的？随着数据敏感性的增强，这一点越来越重要。
    3、哪些数据会更加广泛地公开，是否会给参与者带来任何额外风险？
```

### 问题和同意
- 用户是否知晓
- 收集到的数据带有哪些用户标志
- 手机的数据类型是什么？数据敏感性如何？是否涉及健康或财务数据？
- 数据的保密性和安全性级别

## 选择和测量指标
### 两个主要的使用案例
- 完整性检查指标（对照和实验）
- 评估指标（复合指标-目标函数或OEC综合评估标准）
- 总体业务指标
- 更详尽的指标
### 如何对所有的指标定义
- 为一个指标抽象出一个高级概念
- 确定各个细节
- 进行单独测量后需要将其总结为一个指标
- 是否选择复合指标
- 指标是否使用整套测试流程
### 困难数据
- 没有权限进入数据
- 需要太长的时间
### 其他定义指标技巧
- 更好的使用外部数据
- 更好的使用内部数据